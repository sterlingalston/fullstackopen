{"version":3,"sources":["components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","thePeople","delHandle","map","p","name","key","phone","onClick","Notification","message","theclass","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","theFilter","theHandler","value","onChange","PersonForm","submitHandler","nameValue","phoneValue","nameHandle","phoneHandle","onSubmit","type","App","useState","persons","setPersons","hook","personService","initialPersons","newName","setNewName","filter","setFilter","errorMessage","setErrorMessage","useEffect","personsToShow","length","substr","toUpperCase","class","event","console","log","target","preventDefault","window","confirm","pid_to_update","find","fndPerson","changedPerson","updatedPersons","setTimeout","returnedPersons","concat","namer","parentNode","getAttribute","pid_to_delete","updatePersons","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.12004400.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\n  const Persons = ({thePeople, delHandle}) =>{\r\n  \t\r\n  \treturn (<div><ul>{thePeople.map(p => <li name={p.name} key={p.name}> {p.name} {p.phone} <button onClick={delHandle}>delete</button></li>)\r\n  \t\t}</ul></div>)\r\n\r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, theclass }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={theclass}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleter = (id, newObject) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)//, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  deleter \r\n} //same as above","import React, { useState, useEffect } from 'react'\r\nimport Persons from './/components//Persons'\r\nimport Notification from './components/Notification'\r\n\r\nimport axios from 'axios'\r\n\r\nimport personService from './/services//persons'\r\n\r\n\r\n\r\nconst Filter = ({theFilter,theHandler}) =>{\r\n\treturn(<div><table><td>filter shown with</td><td><input value={theFilter} onChange={theHandler}/></td></table></div>)\r\n}\r\n\r\nconst PersonForm = ({submitHandler,nameValue,phoneValue,nameHandle,phoneHandle}) => {\r\n\treturn(\t<form onSubmit = {submitHandler}>\r\n\r\n\t\t\r\n\t\t        <div>\r\n        <table>\r\n          <tr><td>name:</td> <td><input id=\"theinput\" value={nameValue} onChange = {nameHandle}/></td></tr>\r\n          <tr><td>number:</td><td> <input value={phoneValue} onChange = {phoneHandle}/></td></tr>\r\n      </table>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n    \r\n    </form>)\r\n}\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([\r\n    { name: 'Arto Hellas', phone:'040-1234567' }\r\n  ])\r\n\r\nconst hook = () => {\r\n    personService\r\n      .getAll()\r\n        .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n        \r\n  }\r\n\r\n const [ newName, setNewName ] = useState({name: '', phone: ''})\r\n  const [filter, setFilter] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState({})\r\n\r\n   useEffect(hook, [])\r\n\r\n  \r\n  \r\n \r\n\r\n  const handleNameChange = (event) =>{\r\n  \t\tconsole.log(event.target.value)\r\n  \t\tsetNewName({name: event.target.value, phone: newName.phone})\r\n  }\r\n\r\n  const handlePhoneChange = (event) =>{\r\n  \t\tconsole.log(event.target.value)\r\n  \t\tsetNewName({name: newName.name, phone: event.target.value})\r\n  }\r\n\r\n\tconst handleFilterChange = (event) =>{\r\n  \t\tconsole.log( \"the filter: \",filter)\r\n  \t\tsetFilter(event.target.value)\r\n  }\r\n\r\n  const handlePersonDelete = (event) =>{\r\n  \tlet namer = event.target.parentNode.getAttribute('name')\r\n  \tlet pid_to_delete = persons.find(p => p.name == namer ).id\r\n  \t\r\n  \tif(window.confirm(\"Delete \"+ namer + \"?\"))\r\n  \t{\r\n\r\n\t  \tconsole.log('deleted',namer, pid_to_delete)\r\n\t  \tpersonService.deleter(pid_to_delete).then(\r\n        updatePersons => {\r\n          hook()\r\n        }\r\n\r\n        ).catch(\r\n          error => {\r\n          setErrorMessage( {message: `Information of '${namer}' was already removed from server`, class: \"error\"})\r\n        })\r\n        \r\n  \t}\r\n  }\r\n\r\n  const addName = (event) =>{\r\n  \t\tevent.preventDefault()\r\n  \t\t\r\n  \t\tif(persons.filter(p => p.name == newName.name).length)\r\n\r\n  \t\t\t{\r\n  \t\t\t\t/*\r\n  \t\t\t\talert(`${newName.name} is already added to phonebook`)\r\n  \t\t\t\tsetNewName({name: '', phone: ''})*/\r\n\r\n  \t\t\t\tif(window.confirm(`${newName.name} is already added to phonebook, replace the old number with the new one?`)){\r\n  \t\t\t\t\tlet pid_to_update = persons.find(p => p.name == newName.name ).id\t\r\n  \t\t\t\t\tlet fndPerson   = persons.find(p => p.id == pid_to_update )\r\n  \t\t\t\t\tlet changedPerson = {...fndPerson,phone: newName.phone}\r\n  \t\t\t\t\tpersonService.update(pid_to_update,changedPerson).then(updatedPersons => {\r\n  \t\t\t\t\t\thook()\r\n  \t\t\t\t\t\tsetNewName({name: '', phone: ''})\r\n              setErrorMessage( {message: `Information of '${newName.name}' has been updated.`, class:\"success\"})\r\n              setTimeout(() => {setErrorMessage({})}, 5000)\r\n  \t\t\t\t\t})\r\n  \t\t\t\t}\r\n\r\n  \t\t\t}\r\n  \t\telse\r\n  \t\t\t{\r\n  \t\r\n\r\n\t\t\t\t    personService.create(newName)\r\n        \t\t\t.then(returnedPersons => {\r\n        \t\t\tsetPersons(persons.concat(returnedPersons))\r\n              setErrorMessage( {message: `Added ${newName.name}`, class:\"success\"})\r\n              setTimeout(() => {setErrorMessage({})}, 5000)\r\n\t\t\t\t      })    \r\n  \t\t\t\t\r\n  \t\t\t}\r\n  \t\t\t\r\n  \t\t\r\n  }\r\n\r\nconst personsToShow = filter.length > 0 ? persons.filter( p => p.name.substr(0,filter.length).toUpperCase() == filter.toUpperCase()) : persons\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage.message} theclass={errorMessage.class}/>\r\n\r\n      <Filter theFilter ={filter} theHandler = {handleFilterChange}/>\r\n    \r\n      <h3>add a new</h3>\r\n\r\n      <PersonForm submitHandler= {addName} nameValue = {newName.name} nameHandle = {handleNameChange} phoneValue = {newName.phone} phoneHandle = {handlePhoneChange} />\r\n\r\n      <h3>Numbers</h3>\r\n      \r\n      <div><Persons thePeople = {personsToShow} delHandle = {handlePersonDelete}/></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React, { useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport Course from './/components//Course'\nimport App from './/App'\n\nimport './index.css'\n\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}